<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>Report a Bug - ContentGuard AI</title>
    <meta name="description" content="Report bugs and issues with ContentGuard AI">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Shoelace Components -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.19.1/cdn/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.19.1/cdn/shoelace-autoloader.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="container">
        <header class="header" role="banner">
            <nav class="nav" role="navigation">
                <div class="nav-container">
                    <div class="logo">
                        <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        <h1><a href="/" style="color: inherit; text-decoration: none;">ContentGuard</a></h1>
                    </div>
                    
                    <!-- Desktop Nav Links (hidden on mobile) -->
                    <div class="nav-links desktop-only">
                        <a href="/" class="nav-link">Home</a>
                        <a href="/#about" class="nav-link">About</a>
                    </div>
                    
                    <!-- Right Side Actions -->
                    <div class="nav-actions">
                        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                            <i class="fas fa-moon" aria-hidden="true"></i>
                        </button>
                        
                        <!-- Auth: Login Button (shown when not logged in) -->
                        <button class="auth-btn login-btn" id="loginBtn" style="display: none;" aria-label="Sign in">
                            <i class="fas fa-user"></i>
                            <span class="btn-text">Sign In</span>
                        </button>
                        
                        <!-- Auth: User Profile Dropdown (shown when logged in) -->
                        <sl-dropdown id="userDropdown" style="display: none;" placement="bottom-end">
                            <button slot="trigger" class="auth-btn user-btn" aria-label="User menu">
                                <img id="userAvatar" class="user-avatar" src="" alt="User avatar" />
                                <span id="userName" class="btn-text">User</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <sl-menu>
                                <sl-menu-item id="usageMenuItem">
                                    <i class="fas fa-chart-line" slot="prefix"></i>
                                    <div class="usage-info">
                                        <div class="usage-label">API Usage Today</div>
                                        <div class="usage-stats">
                                            <span id="usageCount">0</span> / <span id="usageLimit">100</span>
                                        </div>
                                    </div>
                                </sl-menu-item>
                                <sl-divider></sl-divider>
                                <sl-menu-item id="logoutMenuItem">
                                    <i class="fas fa-sign-out-alt" slot="prefix"></i>
                                    Logout
                                </sl-menu-item>
                            </sl-menu>
                        </sl-dropdown>
                        
                        <!-- Mobile burger toggle -->
                        <button class="menu-toggle" id="menuToggle" aria-label="Open menu" aria-controls="mobileNav">
                            <i class="fas fa-bars" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </nav>
            <!-- Mobile / Drawer navigation -->
            <sl-drawer id="mobileNav" placement="start" label="Menu">
                <nav class="drawer-links" aria-label="Main navigation">
                    <div class="drawer-section-label">Navigation</div>
                    <a href="/" class="nav-link"><i class="fas fa-home"></i><span>Home</span></a>
                    <a href="/bug-report" class="nav-link"><i class="fas fa-bug"></i><span>Report Bug</span></a>
                    <a href="/#about" class="nav-link"><i class="fas fa-info-circle"></i><span>About</span></a>
                    <a href="/#contact" class="nav-link"><i class="fas fa-envelope"></i><span>Contact</span></a>

                    <sl-divider></sl-divider>

                    <div class="drawer-section-label">Account</div>
                    <!-- Shown when NOT logged in -->
                    <button type="button" class="oauth-btn drawer-auth-btn" id="drawerLoginBtn">
                        <i class="fas fa-user"></i>
                        <span>Sign In</span>
                    </button>
                    <!-- Shown when logged in -->
                    <div class="drawer-account" id="drawerAccount" style="display:none;">
                        <div class="drawer-user">
                            <img id="drawerUserAvatar" class="user-avatar" alt="User avatar" />
                            <div class="drawer-user-meta">
                                <div id="drawerUserName" class="drawer-user-name">User</div>
                                <div class="drawer-usage"><span id="drawerUsageCount">0</span>/<span id="drawerUsageLimit">100</span> today</div>
                            </div>
                        </div>
                        <button type="button" class="drawer-logout-btn" id="drawerLogoutBtn"><i class="fas fa-sign-out-alt"></i><span>Logout</span></button>
                    </div>

                    <sl-divider></sl-divider>

                    <div class="drawer-section-label">Utilities</div>
                    <button type="button" class="drawer-util-btn" id="drawerThemeToggle"><i class="fas fa-adjust"></i><span>Toggle Theme</span></button>
                    <a href="/#examples" class="drawer-util-link"><i class="fas fa-code"></i><span>API Examples</span></a>

                    <sl-divider></sl-divider>

                    <div class="drawer-section-label">Legal</div>
                    <a href="/#privacy" class="drawer-meta-link"><i class="fas fa-user-shield"></i><span>Privacy</span></a>
                    <a href="/#terms" class="drawer-meta-link"><i class="fas fa-file-contract"></i><span>Terms</span></a>
                </nav>
            </sl-drawer>
            
            <div class="hero" style="min-height: 40vh; padding: var(--space-12) 0;">
                <div class="hero-inner">
                    <div class="hero-left">
                        <h2 class="hero-title" style="font-size: 2.5rem;">Report a <span class="accent">Bug</span></h2>
                        <p class="hero-subtitle" style="font-size: 1.125rem;">Found an issue? Help us improve by reporting bugs or suggesting features</p>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content" id="main-content">
            <!-- Bug Report Section -->
            <section class="bug-report-section" id="bug-report" aria-labelledby="bug-report-heading">
                <form id="bugReportForm" class="bug-report-form" role="form" aria-label="Bug report form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bugTitle">Title <span aria-label="required">*</span></label>
                            <input 
                                type="text" 
                                id="bugTitle" 
                                name="title" 
                                placeholder="Brief description of the issue..."
                                required
                                maxlength="200"
                                aria-describedby="bug-title-help"
                            >
                            <div id="bug-title-help" class="sr-only">Brief title describing the bug</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="bugPriority">Priority</label>
                            <select id="bugPriority" name="priority" aria-describedby="bug-priority-help">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                                <option value="critical">Critical</option>
                            </select>
                            <div id="bug-priority-help" class="sr-only">Priority level of the bug</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="bugDescription">Description <span aria-label="required">*</span></label>
                        <textarea 
                            id="bugDescription" 
                            name="description" 
                            rows="4" 
                            placeholder="Detailed description of the bug..."
                            required
                            maxlength="10000"
                            aria-describedby="bug-description-help bug-desc-counter"
                        ></textarea>
                        <div id="bug-description-help" class="sr-only">Detailed description of the bug</div>
                        <div class="char-counter" id="bug-desc-counter" aria-live="polite">
                            <span class="char-count">0 characters</span>
                            <div class="progress">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                            <span class="char-limit">/ 10000</span>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bugSteps">Steps to Reproduce</label>
                            <textarea 
                                id="bugSteps" 
                                name="steps_to_reproduce" 
                                rows="3" 
                                placeholder="1. Go to...&#10;2. Click on...&#10;3. See error..."
                                aria-describedby="bug-steps-help"
                            ></textarea>
                            <div id="bug-steps-help" class="sr-only">Steps to reproduce the bug</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="bugExpected">Expected Behavior</label>
                            <textarea 
                                id="bugExpected" 
                                name="expected_behavior" 
                                rows="3" 
                                placeholder="What should have happened?"
                                aria-describedby="bug-expected-help"
                            ></textarea>
                            <div id="bug-expected-help" class="sr-only">What should have happened</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="bugActual">Actual Behavior</label>
                        <textarea 
                            id="bugActual" 
                            name="actual_behavior" 
                            rows="3" 
                            placeholder="What actually happened?"
                            aria-describedby="bug-actual-help"
                        ></textarea>
                        <div id="bug-actual-help" class="sr-only">What actually happened</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bugBrowser">Browser</label>
                            <input 
                                type="text" 
                                id="bugBrowser" 
                                name="browser_info" 
                                placeholder="e.g., Chrome 120.0, Firefox 119.0"
                                aria-describedby="bug-browser-help"
                            >
                            <div id="bug-browser-help" class="sr-only">Browser and version</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="bugOS">Operating System</label>
                            <input 
                                type="text" 
                                id="bugOS" 
                                name="operating_system" 
                                placeholder="e.g., Windows 11, macOS 14.0, Ubuntu 22.04"
                                aria-describedby="bug-os-help"
                            >
                            <div id="bug-os-help" class="sr-only">Operating system</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bugEmail">Your Email (Optional)</label>
                            <input 
                                type="email" 
                                id="bugEmail" 
                                name="reporter_email" 
                                placeholder="your.email@example.com"
                                aria-describedby="bug-email-help"
                            >
                            <div id="bug-email-help" class="sr-only">Email for follow-up (optional)</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="bugName">Your Name (Optional)</label>
                            <input 
                                type="text" 
                                id="bugName" 
                                name="reporter_name" 
                                placeholder="Your name"
                                aria-describedby="bug-name-help"
                            >
                            <div id="bug-name-help" class="sr-only">Your name (optional)</div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="submit-btn" aria-describedby="bug-submit-help">
                            <i class="fas fa-bug" aria-hidden="true"></i>
                            <span>Submit Bug Report</span>
                        </button>
                        <button type="button" class="clear-btn" id="clearBugForm">
                            <i class="fas fa-eraser" aria-hidden="true"></i>
                            <span>Clear Form</span>
                        </button>
                    </div>
                    <div id="bug-submit-help" class="sr-only">Submit the bug report</div>
                </form>
                
                <!-- Bug Report Success/Error Messages -->
                <div class="bug-report-messages" id="bugReportMessages" style="display: none;" role="alert" aria-live="polite">
                    <div class="message-card" id="bugMessageCard">
                        <i class="fas fa-info-circle" aria-hidden="true"></i>
                        <p id="bugMessageText">Message</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ContentGuard AI</h3>
                    <p>Advanced AI-powered content moderation for modern communities</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/#about">About</a></li>
                        <li><a href="/bug-report">Report Bug</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="/#privacy">Privacy Policy</a></li>
                        <li><a href="/#terms">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ContentGuard AI. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Login Dialog -->
    <sl-dialog id="loginDialog" label="Sign In to ContentGuard" class="auth-dialog">
        <div class="auth-dialog-content">
            <p class="auth-subtitle">Choose your preferred sign-in method</p>
            
            <div class="oauth-buttons">
                <a href="/auth/login/google" class="oauth-btn google-btn">
                    <svg class="oauth-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                        <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                        <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                        <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                    </svg>
                    Continue with Google
                </a>
                
                <a href="/auth/login/github" class="oauth-btn github-btn">
                    <i class="fab fa-github oauth-icon"></i>
                    Continue with GitHub
                </a>
            </div>
            
            <div class="auth-benefits">
                <h4>Why sign in?</h4>
                <ul>
                    <li><i class="fas fa-check-circle"></i> Track your API usage</li>
                    <li><i class="fas fa-check-circle"></i> Save analysis history</li>
                    <li><i class="fas fa-check-circle"></i> Higher rate limits</li>
                    <li><i class="fas fa-check-circle"></i> Priority support</li>
                </ul>
            </div>
            
            <p class="auth-privacy">
                <i class="fas fa-shield-alt"></i>
                Your data is secure and never shared
            </p>
        </div>
    </sl-dialog>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
